{% extends "main.html" %}
{% block title %}Alteração de nota fiscal{% endblock %}
{% block ajax %}
<script>
$(function () {
  $("#submit").click(function () {
    $.ajax({
      url: "{{ url_for('updateAction') }}",
      type: "POST",
      dataType: "json",
      data: $("#form").serialize(),
      success: function (res) {
        alert(res.mensagem);
        $("#form")[0].reset();
      },
      error: function () {
        alert("Erro ao alterar");
      }
    });
  });
  $("#clearbtn").click(function () {
    $("#form")[0].reset();
  });
});
</script>
{% endblock %}
{% block body %}
<h1>Alterar Nota Fiscal</h1>
<form id="form" method="post">
  <input type="hidden" name="numero" value="{{ nota.numero }}"/>
  <table>
    <tr><td>Comprador:</td> <td><input name="comprador"  value="{{ nota.comprador }}"/></td></tr>
    <tr><td>CNPJ:</td>      <td><input name="cnpj"       value="{{ nota.cnpj }}"/></td></tr>
    <tr><td>Endereço:</td>  <td><input name="endereco"   value="{{ nota.endereco }}"/></td></tr>
    <tr><td>Telefone:</td>  <td><input name="telefone"   value="{{ nota.telefone }}"/></td></tr>
    <tr><td>Data:</td>      <td><input type="date" name="data"   value="{{ nota.data }}"/></td></tr>
    <tr><td>Valor:</td>     <td><input type="number" step="0.01" name="valor" value="{{ nota.valor }}"/></td></tr>
    <tr>
      <td>Itens:</td>
      <td>
        <textarea name="itens" rows="4" cols="40">{{ nota.itens }}</textarea>
      </td>
    </tr>
    <tr>
      <td><button id="submit" type="button">Enviar</button></td>
      <td><button id="clearbtn" type="button">Reset</button></td>
    </tr>
  </table>
</form>
{% endblock %}
