{% extends "main.html" %}
{% block title %}Criação de nota fiscal{% endblock %}
{% block ajax %}
<script>
    $(document).ready(function () {
        // botão Enviar
        $("#submit").on('click', function () {
            $.ajax({
                url: 'http://localhost:5000/createNotaAction',
                type: "POST",
                dataType: 'json',
                data: $("#form").serialize(),
                success: function (result) {
                    alert(result['mensagem']);
                    $("#form").trigger("reset");
                },
                error: function (xhr, resp, text) {
                    console.log(xhr, resp, text);
                    alert("houve um erro");
                }
            });
        });
        // botão Reset
        $("#clearbtn").on('click', function () {
            $("#form").trigger("reset");
        });
        // botão Voltar
        $("#backbtn").on('click', function () {
            window.location.href = "{{ url_for('index') }}";
        });
    });
</script>
{% endblock %}
{% block body %}
<h1>Formulário de Nota Fiscal:</h1>
<form id="form" action="" method="post">
    <table border="0">
        <tbody>
            <tr>
                <td class="semestral">Número:</td>
                <td><input type="text" name="numero" value="" size="20"/></td>
            </tr>
            <tr>
                <td class="semestral">Comprador:</td>
                <td><input type="text" name="comprador" value="" size="30"/></td>
            </tr>
            <tr>
                <td class="semestral">CNPJ:</td>
                <td><input type="text" name="cnpj" value="" size="18"/></td>
            </tr>
            <tr>
                <td class="semestral">Endereço:</td>
                <td><input type="text" name="endereco" value="" size="50"/></td>
            </tr>
            <tr>
                <td class="semestral">Telefone:</td>
                <td><input type="text" name="telefone" value="" size="15"/></td>
            </tr>
            <tr>
                <td class="semestral">Data:</td>
                <td><input type="date" name="data" value=""/></td>
            </tr>
            <tr>
                <td class="semestral">Valor:</td>
                <td><input type="number" name="valor" value="" step="0.01"/></td>
            </tr>
            <tr>
                <td class="semestral" colspan="2">Itens:</td>
            </tr>
            <tr>
                <td colspan="2">
                    <textarea id="itens" name="itens" rows="4" cols="60"></textarea>
                </td>
            </tr>
            <tr>
                <td><input id="submit" type="button" value="Enviar" /></td>
                <td><input id="clearbtn" type="button" value="Reset" /></td>
                <td><input id="backbtn" type="button" value="Cancelar" /></td>
            </tr>
        </tbody>
    </table>
</form>
{% endblock %}
